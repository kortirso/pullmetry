<%= render PageWrappers::UserComponent.new(current_user: current_user, meta_title: 'PullKeeper | Achievements') do %>
  <section class="p-8 lg:p-12">
    <div class="mb-4 flex flex-col sm:flex-row justify-between items-center">
      <h1>Achievements</h1>
      <p class="font-semibold">Total points - <%= @achievements_points %></p>
    </div>
    <div class="flex flex-col sm:flex-row mb-8">
      <%= link_to t('controllers.achievements.show.summary'), achievements_path, class: "achievement-link #{'active' if params[:group].blank?}" %>
      <%= link_to t('controllers.achievements.show.pull_requests'), achievements_path(group: 4), class: "achievement-link #{'active' if params[:group] == '4'}" %>
      <%= link_to t('controllers.achievements.show.reviews'), achievements_path(group: 3), class: "achievement-link #{'active' if params[:group] == '3'}" %>
      <%= link_to t('controllers.achievements.show.comments'), achievements_path(group: 2), class: "achievement-link #{'active' if params[:group] == '2'}" %>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
      <% @achievements.each do |achievement| %>
        <div class="achievement box">
          <div class="achievement-points">
            <%= achievement.points %>
          </div>
          <h2 class="achievement-title"><%= achievement.title['en'] %></h2>
          <p class="achievement-description">
            <%= achievement.description['en'] %>
          </p>
        </div>
      <% end %>
      <% @unreceived_achievements.each do |achievement| %>
        <div class="achievement box opacity-50">
          <div class="achievement-points">
            <%= achievement.points %>
          </div>
          <h2 class="achievement-title"><%= achievement.title['en'] %></h2>
          <p class="achievement-description">
            <%= achievement.description['en'] %>
          </p>
        </div>
      <% end %>
    </div>
  </section>
<% end %>
