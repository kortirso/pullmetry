<%= render PageWrappers::PageComponent.new do %>
  <div class="list-title flex flex-col">
    <h1>Achievements</h1>
    <p class="mt-4">All achievements generated by data for last 30 days.</p>
  </div>
  <section id="achievements-box" class="form-block">
    <div class="achievement-groups">
      <p class="total-points">Total points - <%= @achievements_points %></p>
      <%= link_to t('controllers.achievements.show.summary'), achievements_path, class: "#{'active' if params[:group].blank?}" %>
      <%= link_to t('controllers.achievements.show.pull_requests'), achievements_path(group: 4), class: "#{'active' if params[:group] == '4'}" %>
      <%= link_to t('controllers.achievements.show.reviews'), achievements_path(group: 3), class: "#{'active' if params[:group] == '3'}" %>
      <%= link_to t('controllers.achievements.show.comments'), achievements_path(group: 2), class: "#{'active' if params[:group] == '2'}" %>
    </div>
    <div class="achievements">
      <% @achievements.each do |achievement| %>
        <div class="achievement">
          <div class="achievement-name">
            <p><%= achievement.title['en'] %></p>
            <span class="achievement-earned">
              <%= achievement.updated_at.strftime('%Y-%m-%d %H:%M') %>
            </span>
          </div>
          <div class="achievement-description">
            <%= achievement.description['en'] %>
          </div>
          <div class="achievement-icon"></div>
          <div class="achievement-points">
            <%= achievement.points %>
          </div>
        </div>
      <% end %>
      <% @unreceived_achievements.each do |achievement| %>
        <div class="achievement unreceived">
          <div class="achievement-name">
            <p><%= achievement.title['en'] %></p>
          </div>
          <div class="achievement-description">
            <%= achievement.description['en'] %>
          </div>
          <div class="achievement-icon"></div>
          <div class="achievement-points">
            <%= achievement.points %>
          </div>
        </div>
      <% end %>
    </div>
  </section>
<% end %>
